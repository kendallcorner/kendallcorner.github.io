<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Useful Mercurial Commands for Mozilla Central"><meta name="keywords" content=""><meta name="author" content="Kendall Werts"><meta name="copyright" content="Kendall Werts"><title>Useful Mercurial Commands for Mozilla Central | kendallcorner</title><link rel="shortcut icon" href="https://www.gravatar.com/avatar/6c523d558ab10db7e2c1f3025dc898e9"><link rel="stylesheet" href="/css/index.css?version=1.8.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.8.2"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '5.2.0'
} </script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="kendallcorner" type="application/atom+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://www.gravatar.com/avatar/6c523d558ab10db7e2c1f3025dc898e9"></div><div class="author-info__name text-center">Kendall Werts</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">7</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">3</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">kendallcorner</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">Useful Mercurial Commands for Mozilla Central</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-12-29</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>Some helpful commands for using mercurial with Mozilla Central</p>
<p><code>hg pull</code></p>
<p>Get newest revisions. mozilla-central changes a lot, so this needs to be done at least daily and before any work is started</p>
<p><code>hg update</code></p>
<p><code>hg wip</code></p>
<p>Shows a nice graph of your revisions vs the revisions from central. Shows whether you need to rebase</p>
<p><code>hg status</code></p>
<p>Shows all files you have changed but not committed</p>
<p><code>hg status --rev central</code><br><a href="https://stackoverflow.com/questions/8734817/mercurial-generate-file-name-only-diff" target="_blank" rel="noopener">https://stackoverflow.com/questions/8734817/mercurial-generate-file-name-only-diff</a></p>
<p>Shows all files you have committed (or not commited) that are different from central. I.e. it can show you all the files in your patch at once if you’ve made several revisions</p>
<p><code>hg commit m &quot;commit message&quot;</code></p>
<p>mercurial does not have staging. Straight to commit.</p>
<p><code>hg rebase central</code></p>
<p>Make sure all your stuff is committed first</p>
<p><code>hg shelve</code><br><a href="https://www.markheath.net/post/git-stash-for-mercurial-users" target="_blank" rel="noopener">https://www.markheath.net/post/git-stash-for-mercurial-users</a><br>If you don’t want to commit the current changes</p>
<p><code>hg histedit &lt;rev&gt;</code><br><a href="https://www.mercurial-scm.org/wiki/HisteditExtension" target="_blank" rel="noopener">https://www.mercurial-scm.org/wiki/HisteditExtension</a><br>To squash and/or rename commits</p>
<p>Final commit message format:<br><code>Bug 577872 - Create WebM versions of Ogg reftests. r=kinetik</code></p>
<p>You may also want to change your default editor (unless you like using vi or vim). You can do that by adding an evironment variable:<br><code>export HGEDITOR=&lt;your favorite editor&gt;</code></p>
<p><code>hg revert &lt;filename&gt;</code><br>To remove changes to a given file</p>
<p><code>hg diff -r central</code><br>To show changes since central (all commits)</p>
<p><code>hg update -r &lt;rev&gt;</code><br>To change to a different rev</p>
<p><code>hg parent</code><br>If you get lost in your revisions–to show which you are on.</p>
<p>Tests to run:<br>./mach lint -l eslint -o</p>
<p>./mach lint -l wpt -l wpt_manifest -o</p>
<p>./mach mochitest browser/components/preferences/in-content/tests/<br>Run the relevant folder here. All Mochitests will take a long time to run.</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Kendall Werts</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://kendallcorner.com/2019/12/29/Mozilla-HG/">http://kendallcorner.com/2019/12/29/Mozilla-HG/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/10/11/Start-a-TOR-relay-at-home-on-a-Raspberry-Pi/"><i class="fa fa-chevron-left">  </i><span>Start a TOR relay at home on a Raspberry Pi</span></a></div><div class="next-post pull-right"><a href="/2019/12/13/Sync-Process/"><span>Sync-Process</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By Kendall Werts</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.8.2"></script><script src="/js/fancybox.js?version=1.8.2"></script><script src="/js/sidebar.js?version=1.8.2"></script><script src="/js/copy.js?version=1.8.2"></script><script src="/js/fireworks.js?version=1.8.2"></script><script src="/js/transition.js?version=1.8.2"></script><script src="/js/scroll.js?version=1.8.2"></script><script src="/js/head.js?version=1.8.2"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>